<div class="modal-hero modal-shadow-inner1">
  <div class="modal-hero-icon"></div>
  <% if (ob.status == 'trying') { %>
    <p class="h6 homeModal-heroText fancy-heading">Trying to connect to your server...</p>
  <% } else if (ob.status == 'connected') { %>
    <p class="h6 homeModal-heroText fancy-heading">Connected.</p>  
  <% } else if (ob.status == 'failed') { %>  
    <p class="h6 homeModal-heroText fancy-heading">Unable to connect to your server.</p>
  <% } %>
  </p>
</div>
<div class="accordion-window" style="left: 0px;">
  <div class="accordion-child accordion-active custCol-primary overflowHidden" style="width: 525px; height: 374px;">
    <div class="bar barTxt h6 custCol-secondary custCol-text">
      Server Configuration
      <span class="textOpacity75 fontSize14 floatRight">
        <% if (ob.status == 'trying') { %>
          <!-- variablize the max attempts -->
          <i class="ion-android-sync spinner"></i>Attempt <%= ob.attempt %> of 3
        <% } %>
      </span>
    </div>
    <div class="flexContainer scrollOverflowYHideX customThemeScrollbar" style="height: 272px">
      <div class="flexRow borderBottom custCol-border">
        <p class="margin0 padding2015">OpenBazaar is designed to allow you to host your server separate from the client. By default, your server will run locally, but you can override it below.</p>
      </div>
        <form class="width100" name="serverConfigForm">
          <div class="flexCol-12 flex-border borderBottom">
            <div class="flexRow">
              <% if (ob.errors.server_ip) { %>
              <div class="flexCol-12">
                <ul class="padding2015">
                  <% ob.errors.server_ip.forEach(function(err) {
                       print('<li class="list-style-none">' + err + '</li>');
                     }); %>
                </ul>
              </div>
              <% } %>

              <div class="flexCol-3 borderRight custCol-border">
                <div class="fieldItem">
                  <label for="fld_server">Server IP</label>
                </div>
              </div>

              <div class="flexCol-9 custCol-border <% ob.errors.server_ip && print('invalid') %>">
                <input name="server_ip" type="text" id="fld_server" placeholder="" class="fieldItem" required="" value="<%= ob.server_ip %>">
              </div>
            </div>

            <div class="flexRow">
              <% if (ob.errors.rest_api_port) { %>
              <div class="flexCol-12">
                <ul class="padding2015">
                  <% ob.errors.rest_api_port.forEach(function(err) {
                       print('<li class="list-style-none">' + err + '</li>');
                     }); %>
                </ul>
              </div>
              <% } %>

              <div class="flexCol-3 borderRight custCol-border">
                <div class="fieldItem">
                  <label for="fld_rest_port">Rest API port</label>
                </div>
              </div>

              <div class="flexCol-9 custCol-border <% ob.errors.rest_api_port && print('invalid') %>">
                <input name="rest_api_port" type="text" id="fld_rest_port" placeholder="" class="fieldItem" value="<%= ob.rest_api_port %>">
              </div>
            </div>

            <div class="flexRow">
              <% if (ob.errors.socket_port) { %>
              <div class="flexCol-12">
                <ul class="padding2015">
                  <% ob.errors.socket_port.forEach(function(err) {
                       print('<li class="list-style-none">' + err + '</li>');
                     }); %>
                </ul>
              </div>
              <% } %>

              <div class="flexCol-3 borderRight custCol-border">
                <div class="fieldItem">
                  <label for="fld_socket_port">Websocket API port</label>
                </div>
              </div>

              <div class="flexCol-9 custCol-border <% ob.errors.socket_port && print('invalid') %>">
                <input name="socket_port" type="text" id="fld_socket_port" placeholder="" class="fieldItem" value="<%= ob.socket_port %>">
              </div>
            </div>

            <div class="flexRow">
              <% if (ob.errors.username) { %>
              <div class="flexCol-12">
                <ul class="padding2015">
                  <% ob.errors.username.forEach(function(err) {
                       print('<li class="list-style-none">' + err + '</li>');
                     }); %>
                </ul>
              </div>
              <% } %>

              <div class="flexCol-3 borderRight custCol-border">
                <div class="fieldItem">
                  <label for="fld_username">Username</label>
                </div>
              </div>

              <div class="flexCol-9 custCol-border <% ob.errors.username && print('invalid') %>">
                <input name="username" type="text" id="fld_username" placeholder="optional" class="fieldItem" value="<%= ob.username %>">
              </div>
            </div>

            <div class="flexRow">
              <% if (ob.errors.password) { %>
              <div class="flexCol-12">
                <ul class="padding2015">
                  <% ob.errors.password.forEach(function(err) {
                       print('<li class="list-style-none">' + err + '</li>');
                     }); %>
                </ul>
              </div>
              <% } %>

              <div class="flexCol-3 borderRight custCol-border">
                <div class="fieldItem">
                  <label for="fld_password">Password</label>
                </div>
              </div>

              <div class="flexCol-9 custCol-border <% ob.errors.password && print('invalid') %>">
                <input name="password" type="password" id="fld_password" placeholder="optional" class="fieldItem" value="<%= ob.password %>">
              </div>
            </div>                        
           </div>
        </form>
    </div>

    <div class="bar barFlush borderBottomLeftRaidus3 borderBottomRightRaidus3">
      <a class="btn btn-bar btn-half js-restoreDefaults custCol-secondary custCol-border-primary borderBottomLeftRaidus3 custCol-text borderRight" tabindex="0">
        <span class="fontSize10 marginRight2"></span>
        Restore defaults
      </a>
      <a class="btn btn-bar btn-half js-save custCol-secondary custCol-border-primary borderBottomRightRaidus3 custCol-text" tabindex="0">
        Save changes
        <span class="fontSize10 marginLeft2 textOpacity75"></span>
      </a>
    </div>

  </div>
</div>